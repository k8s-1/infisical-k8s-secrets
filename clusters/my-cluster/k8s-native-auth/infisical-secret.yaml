apiVersion: secrets.infisical.com/v1alpha1
kind: InfisicalSecret
metadata:
  name: infisicalsecret-sample-crd
spec:
  authentication:
      kubernetesAuth:
          identityId: a6e100fc-c6c3-4ef4-a6fa-c466088f85fe
          serviceAccountRef:
            name: infisical-auth
            namespace: default

          # secretsScope is identical to the secrets scope in the universalAuth field in this sample.
          secretsScope:
              projectSlug: "example-project-3c-ms" # project settings -> copy project slug
              envSlug: dev
              secretsPath: "/path"
              recursive: true

  managedSecretReference: # the infisical operator creates a k8s secret
      secretName: managed-secret2
      secretNamespace: default
      creationPolicy: "Orphan" ## Owner | Orphan
      # secretType: kubernetes.io/dockerconfigjson


